<%- include('../partials/head.ejs') %>
<script src="https://cdn.tailwindcss.com"></script>
<link rel="stylesheet" href="/stylesheets/panelAdministrarion.css">
<link rel="stylesheet" href="/stylesheets/userStyles.css">

</head>

<body>
  <%- include('../partials/navAdmin.ejs') %>

  <!-- Inicia Menu -->
  <%- include('../partials/dropdownMenu.ejs') %>

  <!-- Contenido -->
  <h1>Users</h1>
  <div class="w-4/5 mx-auto mt-5">
    <a href="/users/add" class="submit__formulario" style="background-color: black;">Agregar usuario</a>

    <table class="min-w-full divide-y divide-gray-200 overflow-x-auto">
      <thead class="bg-gray-50">
        <tr>
          <th scope="col" class="px-6 py-4 text-left text-2xl font-semibold text-gray-700 uppercase tracking-wider">
            ID
          </th>
          <th scope="col" class="px-6 py-4 text-left text-2xl font-semibold text-gray-700 uppercase tracking-wider">
            Nombre
          </th>
          <th scope="col" class="px-6 py-4 text-left text-2xl font-semibold text-gray-700 uppercase tracking-wider">
            Correo
          </th>
          <th scope="col" class="px-6 py-4 text-left text-2xl font-semibold text-gray-700 uppercase tracking-wider">
            Contrase√±a
          </th>
          <th scope="col" class="px-6 py-4 text-left text-2xl font-semibold text-gray-700 uppercase tracking-wider">
            Rol
          </th>
          <th scope="col" class="px-6 py-4 text-left text-2xl font-semibold text-gray-700 uppercase tracking-wider">
            Acciones
          </th>
        </tr>
      </thead>
      <tbody class="bg-white divide-y divide-gray-200">
        <% if(users){ %>
        <% for (let i = 0; i < users.length; i++) { %>

        <tr>
          <td class="px-6 py-6 whitespace-nowrap">
            <div class="flex items-center">
              <div class="flex-shrink-0 h-16 w-16">
                <img class="h-16 w-16 rounded-full" src="/images/user-icon.png" alt="User icon">
              </div>
              <div class="ml-6">
                <div class="text-2xl font-semibold text-gray-900">
                  <%= users[i].id_usuario %>
                  </di2xl </div>
                </div>
          </td>
          <td class="px-6 py-6 whitespace-nowrap">
            <div class="flex items-center">

              <div class="ml-6">
                <div class="text-2xl font-semibold text-gray-900">
                  <%= users[i].nombre %>
                </div>
              </div>
            </div>
          </td>
          <td class="px-6 py-6 whitespace-nowrap">
            <div class="flex items-center">

              <div class="ml-6">
                <div class="text-2xl font-semibold text-gray-900">
                  <%= users[i].email %>
                </div>
              </div>
            </div>
          </td>
          <td class="px-6 py-6 whitespace-nowrap">
            <div class="flex items-center">

              <div class="ml-6">
                <div class="text-2xl font-semibold text-gray-900">
                  <%= users[i].pass %>
                </div>
              </div>
            </div>
          </td>
          <td class="px-6 py-6 whitespace-nowrap">
            <div class="flex items-center">

              <div class="ml-6">
                <div class="text-2xl font-semibold text-gray-900">
                  <%= users[i].rol %>
                </div>
              </div>
            </div>
          </td>
          <td class="px-6 py-6 whitespace-nowrap">
            <div class="flex items-center">

              <div class="ml-6">
                <div class="text-2xl font-semibold text-gray-900">
                  <a href="/users/edit/<%= users[i].id_usuario %>">Editar</a>
                  <a href="/users/delete/<%= users[i].id_usuario %>">Eliminar</a>
                </div>
              </div>
            </div>
          </td>
        </tr>
        <% } %>
        <% } %>
      </tbody>
    </table>
  </div>


  <!-- SweetAlert2 -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script src="/javascripts/appPanelAdministrarion.js"></script>
  <script>
    var errorMessage = "<%= typeof errorMessage !== 'undefined' ? errorMessage : '' %>";
  </script>
</body>

</html>