<%- include('../partials/head.ejs') %>
<!-- Estilos personalizados -->
<link rel="stylesheet" href="/stylesheets/panelAdministrarion.css">
<link rel="stylesheet" href="/stylesheets/userStyles.css">
</head>

<body>
  <%- include('../partials/navAdmin.ejs') %>
  <%- include('../partials/dropdownMenu.ejs') %>

  <main class="main-content">
    <div class="page-header">
      <h1><i class="fas fa-user-edit"></i> Editar Usuario: <%= users.nombre %></h1>
    </div>

    <div class="contenedor form-container">
      <form class="formulario" id="formularioLogin" method="post" action="/users/edit/<%= users.id_usuario %>">

        <div class="campo">
          <label for="inputUsuario"><i class="fas fa-user"></i> Nombre</label>
          <div class="input-container">
            <input type="text" class="input-field" placeholder="Nombre" id="inputUsuario" name="user"
              value="<%= users.nombre %>" required>
          </div>
        </div>

        <div class="campo">
          <label for="inputCorreo"><i class="fas fa-envelope"></i> Correo electrónico</label>
          <div class="input-container">
            <input type="email" class="input-field" placeholder="Correo electrónico" id="inputCorreo" name="email"
              value="<%= users.email %>" required>
          </div>
        </div>

        <div class="campo">
          <label for="inputPassword"><i class="fas fa-lock"></i> Nueva Contraseña (opcional)</label>
          <div class="input-container">
            <input type="password" class="input-field" placeholder="Dejar en blanco para no cambiar" id="inputPassword"
              name="password">
          </div>
        </div>

        <div class="campo">
          <label for="inputRol"><i class="fas fa-user-tag"></i> Rol</label>
          <div class="input-container">
            <select class="input-field" id="inputRol" name="rol" required>
              <option value="" disabled <% if (!users.rol) { %> selected <% } %>>Selecciona un rol</option>
              <option value="administrador" <% if (users.rol === 'administrador') { %> selected <% } %>>Administrador
              </option>
              <option value="operador" <% if (users.rol === 'operador') { %> selected <% } %>>Operador</option>
            </select>
          </div>
        </div>

        <div class="botones">
          <a href="/users" class="btn btn-cancelar">
            <i class="fas fa-arrow-left"></i> Volver
          </a>
          <button type="submit" class="btn btn-guardar" id="submitLogin">
            <i class="fas fa-save"></i> Guardar
          </button>
        </div>

      </form>
    </div>
  </main>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script src="/javascripts/appPanelAdministrarion.js"></script>
  <script src="/javascripts/appUsers.js"></script>
  <script>
    var errorMessage = "<%= typeof errorMessage !== 'undefined' ? errorMessage : '' %>";
  </script>
</body>

</html>